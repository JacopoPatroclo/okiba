var OkibaTimeProgress=function(){"use strict";function r(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function n(t,i,e){return Math.min(Math.max(t,i),e)}var a={};return function(){function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:400;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.duration=t,this.reset()}var t,e,s;return t=i,(e=[{key:"update",value:function(){return function(){this.time=performance.now(),null===this.lastTime&&(this.lastTime=this.time),this.delta=this.time-this.lastTime,this.lastTime=this.time}.call(this),this.elapsed+=this.direction*this.delta,this.elapsed=n(this.elapsed,0,this.duration),this.progress=this.elapsed/this.duration,function(){-1===this.direction&&0<this.progress?this.isActive=!0:1===this.direction&&this.progress<1?this.isActive=!0:this.isActive=!1}.call(this),this.progress=function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3;return a[i]||(a[i]=Math.pow(10,i)),Math.round(t*a[i])/a[i]}(this.progress,3),this.progress}},{key:"reset",value:function(){this.time=this.lastTime=this.delta=null,this.progress=this.elapsed=0,this.direction=1}},{key:"setProgress",value:function(t){t=n(t,0,1),this.elapsed=this.duration*Math.abs(this.progress-t),this.progress=t}},{key:"setDirection",value:function(t){this.direction=t}},{key:"reverse",value:function(){this.direction*=-1}}])&&r(t.prototype,e),s&&r(t,s),i}()}();
