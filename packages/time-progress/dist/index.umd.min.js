!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self)["time-progress"]=e()}(this,function(){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function r(t,e,i){return Math.min(Math.max(t,e),i)}var o={};return function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:400;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.duration=t,this.reset()}var t,i,s;return t=e,(i=[{key:"update",value:function(){return function(){this.time=performance.now(),null===this.lastTime&&(this.lastTime=this.time),this.delta=this.time-this.lastTime,this.lastTime=this.time}.call(this),this.elapsed+=this.direction*this.delta,this.elapsed=r(this.elapsed,0,this.duration),this.progress=this.elapsed/this.duration,function(){-1===this.direction&&0<this.progress?this.isActive=!0:1===this.direction&&this.progress<1?this.isActive=!0:this.isActive=!1}.call(this),this.progress=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3;return o[e]||(o[e]=Math.pow(10,e)),Math.round(t*o[e])/o[e]}(this.progress,3),this.progress}},{key:"reset",value:function(){this.time=this.lastTime=this.delta=null,this.progress=this.elapsed=0,this.direction=1}},{key:"setProgress",value:function(t){t=r(t,0,1),this.elapsed=this.duration*Math.abs(this.progress-t),this.progress=t}},{key:"setDirection",value:function(t){this.direction=t}},{key:"reverse",value:function(){this.direction*=-1}}])&&n(t.prototype,i),s&&n(t,s),e}()});
