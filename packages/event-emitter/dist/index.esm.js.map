{"version":3,"file":"index.esm.js","sources":["../index.js"],"sourcesContent":["/**\n * @module EventEmitter\n * @description Emits events that can be listened and unlistened to\n * @example\n * import EventEmitter from '@okiba/event-emitter'\n * const emitter = new EventEmitter\n * emitter.on('log', console.log)\n * emitter.emit('log', 'Silence is deprecated')\n * // Logs: 'Silence is deprecated'\n *\n * emitter.off('log', console.log)\n * emitter.emit('log', 'Will not run')\n * // ...Nothing happens\n */\nclass EventEmitter {\n  constructor() {\n    this.hs = {}\n  }\n\n  /**\n   * Sets an event listener for an event type\n   * @param  {String} name    Event type\n   * @param  {Function} handler Callback to be fired when that event occours\n   */\n  on(name, handler) {\n    (\n      this.hs[name] || (this.hs[name] = new Map())\n    ).set(handler, handler)\n  }\n\n  /**\n   * Unsets an event listener for an event type\n   * @param  {String} name    Event type\n   * @param  {Function} handler Callback previously registered for that event type\n   */\n  off(name, handler) {\n    if (!this.hs[name]) return\n    this.hs[name].delete(handler)\n  }\n\n  /**\n   * Triggers an event with optional data attached.\n   * All listeners will be triggered in registration order.\n   * Custom data will be passed to them as a parameter\n   * @param  {String} name Event type\n   * @param  {Object} [data] Custom data to be passed to the handlers\n   */\n  emit(name, data) {\n    if (!this.hs || !this.hs[name]) return\n    this.hs[name].forEach(handler => handler(data))\n  }\n\n  /**\n   * Removes all event listeners and deletes the handlers object\n   */\n  destroy() {\n    Object.keys(this.hs)\n      .forEach((name) =>\n        this.hs[name].clear()\n      )\n\n    delete this.hs\n  }\n}\n\nexport default EventEmitter\n"],"names":["EventEmitter","hs","name","handler","Map","set","data","forEach","Object","keys","clear"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;IAcMA;;;0BACU;;;SACPC,EAAL,GAAU,EAAV;;;;;;;;;;;uBAQCC,MAAMC,SAAS;OAEd,KAAKF,EAAL,CAAQC,IAAR,MAAkB,KAAKD,EAAL,CAAQC,IAAR,IAAgB,IAAIE,GAAJ,EAAlC,CADF,EAEEC,GAFF,CAEMF,OAFN,EAEeA,OAFf;;;;;;;;;;wBAUED,MAAMC,SAAS;UACb,CAAC,KAAKF,EAAL,CAAQC,IAAR,CAAL,EAAoB;WACfD,EAAL,CAAQC,IAAR,YAAqBC,OAArB;;;;;;;;;;;;yBAUGD,MAAMI,MAAM;UACX,CAAC,KAAKL,EAAN,IAAY,CAAC,KAAKA,EAAL,CAAQC,IAAR,CAAjB,EAAgC;WAC3BD,EAAL,CAAQC,IAAR,EAAcK,OAAd,CAAsB,UAAAJ,OAAO;eAAIA,OAAO,CAACG,IAAD,CAAX;OAA7B;;;;;;;;8BAMQ;;;MACRE,MAAM,CAACC,IAAP,CAAY,KAAKR,EAAjB,EACGM,OADH,CACW,UAACL,IAAD;eACP,KAAI,CAACD,EAAL,CAAQC,IAAR,EAAcQ,KAAd,EADO;OADX;aAKO,KAAKT,EAAZ;;;;;;;;;"}