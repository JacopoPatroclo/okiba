var Component=function(){"use strict";function r(n,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function u(n){if(void 0!==n&&0!==n.length)return 1===n.length?n[0]:n}function f(n){var o,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return void 0===(o=t.querySelectorAll(n))?o:o instanceof Array?o:o.callee||o instanceof NodeList||o instanceof DOMTokenList?Array.prototype.slice.call(o):[o]}return function(){function o(n){var e,r,a,l;!function(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),this.el=n.el,n.options&&(this.options=n.options),n.ui&&(this.ui=(e=n.ui,r=n.el,Object.keys(e).reduce(function(n,o){var t=u(f(e[o].selector||e[o],r));if(t)n[o]=t;else if(!e[o].optional)throw new Error("[!!] [Component] Cant't find UI element for selector: ".concat(e[o]));return n},{}))),n.components&&(this.components=(a=n.components,l=n.el,Object.keys(a).reduce(function(n,o){var t=a[o],e=t.type,r=t.selector,i=t.options,c=t.optional;if("string"!=typeof r||!e)throw new Error("[!!] [Component] Invalid component configuration for key: ".concat(o));var s=u(f(r,l));if(s)n[o]=Array.isArray(s)?s.map(function(n){return new e({el:n,options:i})}):new e({el:s,options:i});else if(!c)throw new Error("[!!] [Component] Cant't find node with selector ".concat(r," for sub-component: ").concat(o));return n},{})))}var n,t,e;return n=o,(t=[{key:"destroy",value:function(){var o=this;this.components&&Object.keys(this.components).forEach(function(n){return(o.components[n].length?o.components[n]:[o.components[n]]).forEach(function(n){return n.destroy()})}),this.onDestroy&&this.onDestroy()}}])&&r(n.prototype,t),e&&r(n,e),o}()}();
