var OkibaComponent=function(){"use strict";function e(n,t){for(var o=0;o<t.length;o++){var e=t[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function f(n){if(void 0!==n&&0!==n.length)return 1===n.length?n[0]:n}function l(n,t){return function(n){return void 0===n?n:n instanceof Array?n:n.callee||n instanceof NodeList||n instanceof DOMTokenList?Array.prototype.slice.call(n):[n]}((1<arguments.length&&void 0!==t?t:document).querySelectorAll(n))}return function(){function t(n){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=n.el,n.options&&(this.options=n.options),n.ui&&(this.ui=function(e,r){return Object.keys(e).reduce(function(n,t){var o=f(l(e[t].selector||e[t],r));if(o)n[t]=o;else if(!e[t].optional)throw new Error("[!!] [Component] Cant't find UI element for selector: ".concat(e[t]));return n},{})}(n.ui,n.el)),n.components&&(this.components=function(u,a){return Object.keys(u).reduce(function(n,t){var o=u[t],e=o.type,r=o.selector,i=o.options,c=o.optional;if("string"!=typeof r||!e)throw new Error("[!!] [Component] Invalid component configuration for key: ".concat(t));var s=f(l(r,a));if(s)n[t]=Array.isArray(s)?s.map(function(n){return new e({el:n,options:i})}):new e({el:s,options:i});else if(!c)throw new Error("[!!] [Component] Cant't find node with selector ".concat(r," for sub-component: ").concat(t));return n},{})}(n.components,n.el))}return function(n,t,o){t&&e(n.prototype,t),o&&e(n,o)}(t,[{key:"destroy",value:function(){var t=this;this.onDestroy&&this.onDestroy(),this.components&&Object.keys(this.components).forEach(function(n){return(t.components[n].length?t.components[n]:[t.components[n]]).forEach(function(n){return n.destroy()})}),this.components=null}}]),t}()}();
